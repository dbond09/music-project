<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Web Programming Project To Be Named</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <div>
  <div class="navbar navbar-default navbar-static-top">
    <div class="container">
      <div class="navbar-collapse navbar-collapse-1 collapse" aria-expanded="true">
        <ul class="nav navbar-nav">
          <li class="active">
            <a href="#" onclick="loadHome()"><span class="glyphicon glyphicon-home"></span> Home</a>
          </li>
          <li>
            <a href="#" onclick="loadPeoplePage()"><span class="glyphicon glyphicon-user"></span> People</a>
          </li>
        </ul>
          <div class="navbar-form navbar-right">
            <button class="btn btn-primary" type="submit" aria-label="Left Align" onClick="handleLogout()">
              <span class="glyphicon glyphicon-log-out" aria-hidden="true"> </span> Log Out
            </button>
          </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-sm-3">
        <div class="panel panel-default panel-custom" id="left-panel">
        </div>
      </div>
      <div class="col-sm-6" div id="middle-column">
      </div>
    </div>
  </div>
  </div>

  <script type="text/template" id="template-new-post-module">
    <div class="panel panel-info">
      <div class="panel-heading">
        <h3 style="margin-top: 0">New Post</h3>
      </div>
      <div class="panel-body">
        <div class="media">
          <div class="media-body">
            <div class="form-group has-feedback">
              <div id="new-post-composers">
              </div>
              <div style="margin-top: 5px">
                <button type="button" class="btn btn-primary" onClick="handleNewPostSubmit()">Post</button>
                <button type="button" class="btn btn-info" onClick="play(event, true)">Play</button>
                <button type="button" class="btn btn-danger" onClick="stop()">Stop</button>
                <button type="button" class="btn btn-info" onClick="addNewPostComposer()"><span class="glyphicon glyphicon-plus"></span></button>
                <button type="button" class="btn btn-info" onClick="removeNewPostComposer()"><span class="glyphicon glyphicon-minus"></span></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </script>
  <script type="text/template" id="template-composer">
    <div class="composer-table-container">
      <form name="composer-##composerid##">
        <span>Instrument:
          <select id="instrument-##composerid##" data-composerid="##composerid##" onChange="handleComposerInstrumentChange(event)">
            <option value="piano">Piano</option>
            <option value="guitar">Guitar</option>
            <option value="harmonium">Harmonium</option>
            <option value="snare">Snare</option>
          </select>
        </span>
        <span>Octave:
          <input name="octave-##composerid##" data-composerid="##composerid##" type="radio" value="1" onChange="handleComposerOctaveChange(event)">1</input>
          <input name="octave-##composerid##" data-composerid="##composerid##" type="radio" value="2" onChange="handleComposerOctaveChange(event)">2</input>
          <input name="octave-##composerid##" data-composerid="##composerid##" type="radio" value="3" onChange="handleComposerOctaveChange(event)">3</input>
          <input name="octave-##composerid##" data-composerid="##composerid##" type="radio" value="4" onChange="handleComposerOctaveChange(event)">4</input>
          <input name="octave-##composerid##" data-composerid="##composerid##" type="radio" value="5" onChange="handleComposerOctaveChange(event)">5</input>
        </span>
      </form>
      ##table##
    </div>
  </script>
  <script type="text/template" id="template-post">
    <div class="panel panel-info">
      <div class="panel-heading">
        <div id="##id##" class="media" onMouseEnter="play(event)" onMouseLeave="stop()">
          <div class="this.state.current >= 0 ? 'media-heading playing' : 'media-body'">
            <h4 classe="media-heading">##author##</h4>
            ##composers##
          </div>
        </div>
      </div>
    </div>
  </script>
  <script type="text/template" id="login-form">
    <div class="panel-heading">
      <h3 class="panel-title">
        Login
      </h3>
    </div>
    <div class="panel-body" id="left-panel">
      <form onSubmit="{handleLogin(event); return false;}" action="/login" method="post" id="loginForm">
        <div class="form-group">
          <label htmlFor="username">Username</label>
          <input type="text" class="form-control" name="username" aria-describedby="emailHelp" placeholder="Enter username" />
        </div>
        <div class="form-group">
          <label htmlFor="password">Password</label>
          <input type="password" class="form-control" name="password" placeholder="Password" />
        </div>
        <button type="submit" class="btn btn-primary">Submit</button><button type="button" class="btn btn-info" onclick="loadRegisterPage()">Register</button>
      </form>
    </div>
  </script>
  <script type="text/template" id="user-panel">
    <div class="panel-heading">
      <h3 class="panel-title">
        Logged In
      </h3>
    </div>
    <div class="panel-body">
      User: ##user##
    </div>
  </script>
  <script type="text/template" id="people-panel">
    <div class="panel panel-info">
      <h3 class="panel-heading">People</h3>
      <div class="panel-body">
      </div>
    </div>
  </script>
  <script type="text/template" id="registration-panel">
    <div class="panel panel-info">
      <h3 class="panel-heading">Registration</h3>
      <div class="panel-body">
        <form onSubmit="{handleRegister(event); return false;}" action="/register" method="post">
          <div class="form-group">
            <label htmlFor="username">Username</label>
            <input type="text" class="form-control" name="username" aria-describedby="emailHelp" placeholder="Enter username" />
          </div>
          <div class="form-group">
            <label htmlFor="password">Password</label>
            <input type="password" class="form-control" name="password" placeholder="Password" />
          </div>
          <div class="form-group">
            <label htmlFor="passwordconfirm">Confirm Password</label>
            <input type="password" class="form-control" name="passwordconfirm" placeholder="Confirm Password" />
          </div>
          <div class="form-group">
            <label htmlFor="Forename">Forename</label>
            <input type="text" class="form-control" name="text" placeholder="Forename" />
          </div>
          <div class="form-group">
            <label htmlFor="Surname">Surname</label>
            <input type="text" class="form-control" name="text" placeholder="Surname" />
          </div>
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
  </script>

  <script src="js/Tone.js"></script>
  <script src="js/script.js"></script>
  <script>
    function loadHome() {
      document.getElementById('middle-column').innerHTML = '<div id="new-post"></div><div id="posts"></div>';
      if (sessionStorage.getItem('username')) {
        renderUserPanel();
        renderNewPostModule();
      }
      else {renderLoginPanel()}
      loadPosts();
      getSamplers();
    }
    loadHome();
  </script>
</body>

</html>
